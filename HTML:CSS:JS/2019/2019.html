<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2019</title>
    <style>
        .info {width: 500px;height: 400px;border-radius: 5px;border: 1px solid rgb(82, 82, 209);display: flex;flex-direction: column;font-size: 12px;}
        .banner {background-color: rgb(82, 82, 209);width: 100%;height: 30px;color: white;}
        .intro {margin-top: 7px; margin-left: 8px;font-size: 12px;}
        .display {margin-top: 25px; width: 500px;height: 200px;border-radius: 5px;border: 1px solid rgb(82, 82, 209);display: flex;flex-direction: column;}
        .content_1 {margin-left: 10px;overflow: scroll;height: 80%;}
        td {border: 1px solid black;}
    </style>
    <script>
        var vendors = [
		{
			"name": "Apple",
			"categories": ["IPhone", "IPad", "IPod"]}, 
        {
			"name": "Samsung",
			"categories": ["S1", "S2", "S3"]}, 
        {
			"name": "LG",
			"categories": ["L1", "L2", "L3", "L4", "L5"]}, 
        {
			"name": "Google",
			"categories": ["G1", "G2", "G3"]
		}
	]
	var productList = []

	var manufacturerTag, categoryTag, productTag, priceTag, quantityTag, totalPriceTag
	var resultTag

	function init() {
		categoryTag = document.getElementById('category_id')
		productTag = document.getElementById('product_name_id')
		priceTag = document.getElementById('price_id')
		quantityTag = document.getElementById('quantity_id')
		totalPriceTag = document.getElementById('total_price_id')
		manufacturerTag = document.getElementById('manufacturer_id')
		resultTag = document.getElementById('result')
        manufacturerTag.innerHTML = '<option value="">Select</option>'
		for(var item of vendors) {
			manufacturerTag.innerHTML += `<option value="${item.name}">${item.name}</option>`
		}
	}
    function change_manufacturer() {
		manufacturerValue = manufacturerTag.value
		categoryList = []
		for(var item of vendors) {
			if(item.name == manufacturerValue) {
				categoryList = item.categories
				break;
			}
		}
		categoryTag.innerHTML = '<option value="">-- Select --</option>'
		for(var v of categoryList) {
			categoryTag.innerHTML += `<option value="${v}">${v}</option>`
		}
	}
    function display_total()
    {
        totalPriceTag.value=quantityTag.value*priceTag.value;
    }
    function dat_lai()
    {
        priceTag.value = 10;
        quantityTag.value = 0;
    }
    function display_all()
    {
        count=0;
        resultTag.innerHTML='';
        for(let x of productList){
            resultTag.innerHTML += `<tr>
                    <td>${count+1}</td>
                    <td>${x.name}</td>
                    <td>${x.category}</td>
                    <td>${x.price}</td>
                    <td>${x.quantity}</td>
                    <td>${x.manufacturer}</td>
                    <td><button onclick="update(${count})">Edit</button></td>
                    <td><button onclick="xoa(${count})">Delete</button></td>
                </tr>`
            count++;
            }
    }
    function add()
    {
        let product = {'name' : productTag.value,
                   'manufacturer' : manufacturerTag.value,
                   'category' : categoryTag.value,
                   'price' : priceTag.value,
                   'quantity' : quantityTag.value,
                   'total_price' : totalPriceTag.value};
        productList.push(product);
        display_all();
    }
    function xoa(a)
    {
        productList.splice(a,1);
        display_all();
    }
    function update(index)
    {
        let a = prompt('Product Name:');  
        let b = prompt('Category Name:');
        let c = prompt('Price:');
        let d = prompt('Quantity');
        let e = prompt('Manufacturer Name:');
        let f = parseInt(c)*parseInt(d);
        let product = {'name' : a,
                   'manufacturer' : e,
                   'category' : b,
                   'price' : c,
                   'quantity' : d,
                   'total_price' : f};
        productList.splice(index,1,product);
        display_all();
    }
    </script>
</head>
<body onload="init()"> 
    <div class="info">
            <div class="banner">
                <p class="intro">Input product's detail information</p>
            </div>
        <form action="">
        <div class="content_1">
            <p>Product Name</p>
            <input type="text" id="product_name_id">
            <p>Manufacturer Name</p>
            <select id="manufacturer_id" onchange="change_manufacturer()" style="width: 31.5%; padding: 2px 3px;font-size: 12px;">
            </select>
            <p>Category Name</p>
            <select id="category_id" onchange="dat_lai()" style="width: 31.5%;padding: 2px 3px;font-size: 12px;">
            </select>
            <p>Price</p>
            <input type="number" id="price_id" disabled>
            <p>Quantity</p>
            <input type="number" id="quantity_id" onchange="display_total()">
            <p>Total Price</p>
            <input type="number" id="total_price_id" disabled><br>
            <input type="button" value="Submit" onclick="add()" style="border-radius: 5px; padding: 5px 10px; border: none; background-color: rgb(84, 129, 15); color: white;margin-top: 5px;">
            <input type="reset" style="border-radius: 5px; padding: 5px 10px; border: none;margin-top: 5px;background-color: rgb(179, 179, 6);color: white;">
        </div>
        </form>
    </div>
    <div class="display">
        <div class="banner">
            <p class="intro">Management Products</p>
        </div>
        <table style="font-size: 11px;border: 1px solid black;margin: 5px 2px;overflow: scroll;">
            <thead style="font-weight: bold;">
                <tr style="text-align: center;">
                    <td>No</td>
                    <td>Product Name</td>
                    <td>Category Name</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Manufacturer Name</td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            <tbody id="result" style="font-size: 15px;">
            </tbody>
        </table>
    </div>
</body>
</html>